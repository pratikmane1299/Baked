<!-- <app-navbar></app-navbar> -->
<div class="container">
	<toast-message-component [alerts]="messageList"></toast-message-component>
	<div class="row justify-content-center mt-5">
		<h3 style="color: #d5a249">Checkout
		</h3>
	</div>
	<div class="row mt-3">
		<div class="col-md-8 checkout-form">

			<form #f="ngForm" ngFrom (ngSubmit)="f.form.valid" novalidate>
				<div class="form-row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">First Name</label>
							<input id="firstName" name="firstName" ngModel #firstName="ngModel" type="text" class="form-control"
								required>
							<div *ngIf="firstName.touched && firstName.invalid">
								<div *ngIf="firstName.errors.required"><span class="validation-error-msg">First Name is required</span>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Last Name</label>
							<input id="lastName" name="lastName" ngModel #lastName="ngModel" type="text" class="form-control"
								required>
							<div *ngIf="lastName.touched && lastName.invalid">
								<div *ngIf="lastName.errors.required"><span class="validation-error-msg">Last Name is required</span>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Mobile</label>
							<input id="mobile" type="number" name="mobile" ngModel #mobile="ngModel" type="text" class="form-control"
								required pattern="^(?:(?:\+|0{0,2})91(\s*[\-]\s*)?|[0]?)?[789]\d{9}$">
							<div *ngIf="mobile.touched && mobile.invalid">
								<div *ngIf="mobile.errors.required"><span class="validation-error-msg">Mobile is required</span></div>
								<div *ngIf="mobile.errors.pattern"><span class="validation-error-msg">Invalid mobile number</span></div>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Email</label>
							<input id="email" name="email" ngModel #email="ngModel" type="email" class="form-control" required email>
							<div *ngIf="email.touched && email.invalid">
								<div *ngIf="email.errors.required"><span class="validation-error-msg">Email is required</span></div>
								<div *ngIf="email.errors.email"><span class="validation-error-msg">Invalid email</span></div>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="control-label">Address</label>
							<textarea id="address" name="address" ngModel #address="ngModel" class="form-control" rows="3"
								required></textarea>
							<div *ngIf="address.touched && address.invalid">
								<div *ngIf="address.errors.required"><span class="validation-error-msg">Address is required</span></div>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row">
					<div class="col-sm-3">
						<div class="form-group">
							<label class="control-label">State</label>
							<input id="state" name="state" ngModel="Maharashtra" #state="ngModel" class="form-control" readonly>
						</div>
					</div>
					<div class="col-sm-3">
						<div class="form-group">
							<label class="control-label">City</label>
							<input id="city" name="city" ngModel="Mumbai" #city="ngModel" class="form-control" readonly>
						</div>
					</div>
					<div class="col-sm-3">
						<div class="form-group">
							<label class="control-label">Pin Code</label>
							<input id="pinCode" type="number" name="pinCode" ngModel #pinCode="ngModel" type="text"
								class="form-control" required pattern="^[1-9][0-9]{5}$">
							<div *ngIf="pinCode.touched && pinCode.invalid">
								<div *ngIf="pinCode.errors.required"><span class="validation-error-msg">Pincode is required</span></div>
								<div *ngIf="pinCode.errors.pattern"><span class="validation-error-msg">Invalid pincode</span></div>
							</div>

						</div>
					</div>
					<div class="col-sm-3">
						<div class="form-group">
							<label class="control-label">Payment mode</label>
							<input id="paymentMode" name="paymentMode" ngModel="COD" #paymentMode="ngModel" class="form-control"
								readonly>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="col-md-4 order-md-2 mb-4">
			<div class="cart-summary">
				<h4 class="d-flex justify-content-between align-items-center mb-3">
					<span class="text-muted">Your cart</span>
					<label id="productCount" class="badge badge-secondary badge-pill">{{ totalCartProducts }}</label>
				</h4>
				<ul class="list-group mb-3">
					<li *ngFor="let item of cartProducts" class="list-group-item d-flex justify-content-between lh-condensed">
						<div>
							<label ID="proName" class="my-0">{{ item.name }}</label><br />
							<span class="text-muted">Qty :</span>
							<label ID="proQtd" class="text-muted">{{ item.quantity }}</label>

						</div>
						<label id="proTotalPrice" class="text-muted float-right">&#x20B9; {{ item.price }}</label>
					</li>
					<li class="list-group-item d-flex justify-content-between">
						<span>Total : &#x20B9; {{ cartTotal }}</span>
						<strong id="totalAmount" runat="server"></strong>
					</li>
				</ul>
			</div>

			<button class="btn button btn-block place-order-button" [disabled]="!f.valid" (click)="placeOrder(f)">Place
				Order</button>
		</div>
	</div>
</div>